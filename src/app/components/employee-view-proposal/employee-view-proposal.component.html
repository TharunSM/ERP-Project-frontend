<div class="col-sm-12 widthTable good " style="margin-bottom: 30px;">
  <div class="panel panel-default filterable">
    <div class="panel-heading">
      <h2 style="text-align: center;"><u style=" text-decoration: underline;">View Proposals</u></h2>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-sm">
          <div class="container">
            <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart" [labels]="chartOptions.labels"
              [responsive]="chartOptions.responsive"></apx-chart>
          </div>

        </div>
        <div class="col-sm">
          <div class="container" style="margin-top: 15%;">
            <ngb-carousel [interval]="2500" [pauseOnHover]="true" [wrap]="true">
              <ng-template ngbSlide *ngFor="let p of projectProposal; index as i">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">{{ p.proposalTitle}}</h5>
                    <p class="card-text">{{p.proposalDescription}}</p>
                    <br>
                    <p class="card-text">{{p.status}}</p>
                  </div>
                </div>
              </ng-template>
            </ngb-carousel>
          </div>
        </div>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table  table-list-search" id="" style="text-align: center;">
        <thead>
          <tr>
            <th colspan="5">
              <div class="form-group input-info">
                <input class="form-control" id="table-search" name="q" placeholder="Search By Title" required
                  [(ngModel)]="searchTitle" (input)="searchProposal()">
              </div>
            </th>
          </tr>
          <tr>
            <th>S.No</th>
            <th>Title</th>
            <th>Description</th>
            <th>Status</th>
            <th>Action</th>
          </tr>

        </thead>
        <tbody>
          <tr *ngFor="let p of projectProposal , index as i">
            <td>{{i+1}}</td>
            <td>{{p.proposalTitle}}</td>
            <td>{{p.proposalDescription}}</td>
            <td *ngIf="p.status=='Pending'" style="color: blue; font-weight: bold;">{{p.status}}</td>
            <td *ngIf="p.status=='Approved'" style="color: green; font-weight: bold;">{{p.status}}</td>
            <td *ngIf="p.status=='Rejected'" style="color: red; font-weight: bold;">{{p.status}}</td>
            <td>
              <button routerLink="/editEmployeeProposal/{{p.proposalId}}" *ngIf="p.status=='Pending'"
                style="cursor: pointer; margin-left: 10px;" class="btn btn-success">Edit</button>
              <button (click)="deleteProposalConformation(p.proposalId)" *ngIf="p.status=='Pending'"
                style="cursor: pointer;margin-left: 10px;margin-top: 10px;" class="btn btn-danger"
                data-bs-toggle="modal" data-bs-target="#profileModal">Delete</button>
              <p *ngIf="p.status!='Pending'">No actions required</p>
            </td>
          </tr>
          <tr *ngIf="flagDataNotFound">
            <td colspan="5">
              Opps! No records Found
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<div class="modal fade" id="profileModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style=" width: 35%;">
    <div class="modal-content">
      <div class="modal-body" style="background-color:  #e8eeef; border-radius: 7px;">
        <div *ngIf="flagDelete">
          <p style="margin-left: 10%; font-weight: bold;">Are you sure you want to delete this proposal?</p>
          <div class="container1" style="margin-left:23% ">
            <button (click)="deleteProjectProposal()" style="cursor: pointer;" data-bs-dismiss="modal"
              style="margin-right: 30px;" class="btn btn-danger">Yes Delete</button>
            <button (click)="flagDelete=false" style="cursor: pointer;" data-bs-dismiss="modal" class="btn btn-success"
              style="width: 100px;">Cancel</button>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
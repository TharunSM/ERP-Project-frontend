<div class="col-sm-12 widthTable good ">
  <div class="panel panel-default filterable">
    <div class="panel-heading">
      <h2 style="text-align: center;"><u style=" text-decoration: underline;">Projects</u></h2>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-sm">
          <div class="container">
            <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart" [labels]="chartOptions.labels"
              [responsive]="chartOptions.responsive"></apx-chart>
          </div>
        </div>
        <div class="col-sm" style="justify-content: center;margin-top: 50px;">
          <div class="container">
            <ngb-carousel *ngIf="projects.length" [interval]="2500">
              <ng-template ngbSlide *ngFor="let p of projects; index as i">
                <div class="card">
                  <div class="card-header">Title: {{ p.projectTitle}}</div>
                  <div class="card-body">
                    <p class="card-text"><u>Description</u><br>{{p.projectDescription}}</p>
                    <p class="card-text">Status: {{p.status}}</p>
                  </div>
                </div>
              </ng-template>
            </ngb-carousel>
          </div>
        </div>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table  table-list-search" id="" style="text-align: center;">
        <thead>
          <tr>
            <th colspan="4">
              <div class="form-group input-info">
                <input class="form-control" id="table-search" name="q" placeholder="Search By Title" required
                  [(ngModel)]="searchTitle" (input)="searchProject()">
              </div>
            </th>
            <th colspan="3">
              <div>
                <label for="Sort" style="float: left;margin-left: 20px;font-size: 18px;margin-bottom: 5px;">Sort</label>
                <select (click)="sortOnSelect()" [(ngModel)]="selectOnSort"
                  style="border-radius: 10px;height: 38px;width: 200px;padding: auto;">
                  <option value="All">All</option>
                  <option value="title" (input)="sortByTitle()">Sort By Title</option>
                  <option value="startDate" (input)="sortByStartDate()">Sort By StartDate</option>
                  <option value="endDate" (input)="sortByEndDate()">Sort By EndDate</option>
                </select>
              </div>
            </th>
            <th colspan="3">
              <div>
                <label for="filterStatus"
                  style="float: left;margin-left: 60px;font-size: 18px;margin-bottom: 5px;">Filter By Status</label>
                <select [(ngModel)]="selectedStatus" (change)="filterByStatus(selectedStatus)"
                  style="border-radius: 10px;height: 38px;width: 200px;padding: auto;">
                  <option value="All">All</option>
                  <option value="Planning">Planning</option>
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                </select>
              </div>
            </th>
          </tr>
          <tr>
            <th>S.No</th>
            <th>Title</th>
            <th>Description</th>
            <th style="width: 95px;">Start Date</th>
            <th style="width: 95px;">End Date</th>
            <th style="width: 95px;">Frontend<br>Tech Stack</th>
            <th style="width: 95px;">Backend<br>Tech Stack</th>
            <th>Database</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of projects,index as i">
            <td>{{i+1}}</td>
            <td>{{p.projectTitle}}</td>
            <td>{{p.projectDescription}}</td>
            <td class="date-size">{{p.startDate}}</td>
            <td class="date-size">{{p.endDate}}</td>
            <td>{{p.frontEndTechStack}}</td>
            <td>{{p.backendTechStack}}</td>
            <td>{{p.databaseStack}}</td>
            <td>{{p.status}}</td>
            <td>
              <button routerLink="/editManagerProject/{{p.projectId}}" class="btn btn-success"
                style="margin-bottom: 10px;"> Edit</button>
              <br>
              <button (click)="deleteProjectConformtion(p.projectId)" class="btn btn-danger" data-bs-toggle="modal"
                data-bs-target="#profileModal">Delete</button>
            </td>
          </tr>
          <tr *ngIf="projects.length==0">
            <td colspan="10">
              Opps! No records Found
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="modal fade" id="profileModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style=" width: 35%;">
    <div class="modal-content">
      <div class="modal-body" style="background-color:  #e8eeef; border-radius: 7px;">
        <div *ngIf="flagDelete">
          <p style="margin-left: 10%; font-weight: bold;">Are you sure you want to delete this project?</p>
          <div class="container1" style="margin-left:23% ">
            <button (click)="deleteProject()" class="btn btn-danger" style="margin-right: 30px;" data-bs-toggle="modal"
              data-bs-target="#deleteErrorModel">Yes Delete</button>
            <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="" (click)="setDeleteFlag()"
              style="width: 100px;">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="deleteErrorModel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style=" width: 35%;">
    <div class="modal-content">
      <div class="modal-body" style="background-color:  #e8eeef; border-radius: 7px;">
        <div *ngIf="!flagDeleteErrorUserAssigned">
          <p style="text-align: center;">Loading...</p>
        </div>
        <div *ngIf="flagDeleteErrorUserAssigned">
          <h3 style="text-align: center; color: red;">Warning</h3>
          <p style=" font-weight: bold;text-align: center;">Cannot delete this project as users are already assigned ,
            please unassign users and try again!</p>
          <div class="container1" style="justify-content: center;">
            <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="" style="width: 100px;margin-left: auto;
                        margin-right: auto;
                        display: block;" (click)=" setFlag() ">Ok</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<br>
<br>